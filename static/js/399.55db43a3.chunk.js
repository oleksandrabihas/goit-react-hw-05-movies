"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[399],{913:function(e,n,t){t.d(n,{$9:function(){return l},$i:function(){return i},AH:function(){return s},YS:function(){return o},nJ:function(){return c}});var r="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhMDk1OTYzNjJlMzI0NzAyZWNjOTFjNGZlMmRiZWUyZCIsInN1YiI6IjY0ODE4NGEyZDJiMjA5MDBhZDNhZDIyYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.2NfqXFUu6Bu9TfKlR-ML2346sf6pL6vFGjUN74YPvxg",a="https://api.themoviedb.org/3",i={method:"GET",url:"".concat(a,"/trending/movie/day"),params:{language:"en-US",page:"1"},headers:{accept:"application/json",Authorization:"Bearer ".concat(r)}},c=function(e){return{method:"GET",url:"".concat(a,"/movie/").concat(e),params:{language:"en-US"},headers:{accept:"application/json",Authorization:"Bearer ".concat(r)}}},o=function(e){return{method:"GET",url:"".concat(a,"/movie/").concat(e,"/credits"),headers:{accept:"application/json",Authorization:"Bearer ".concat(r)}}},s=function(e){return{method:"GET",url:"".concat(a,"/movie/").concat(e,"/reviews"),headers:{accept:"application/json",Authorization:"Bearer ".concat(r)}}},l=function(e){return{method:"GET",url:"https://api.themoviedb.org/3/search/movie",params:{query:e},headers:{accept:"application/json",Authorization:"Bearer ".concat(r)}}}},399:function(e,n,t){t.r(n),t.d(n,{MovieDetails:function(){return v}});var r=t(861),a=t(439),i=t(757),c=t.n(i),o=t(913),s=t(243),l=t(184),u=function(e){var n=e.genres;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{children:"Genres"}),n&&n.map((function(e){return(0,l.jsxs)("span",{children:[e.name," "]},e.id)}))]})},d=t(791),h=t(689),p=t(87),v=function(){var e,n,t=(0,d.useState)({}),i=(0,a.Z)(t,2),v=i[0],j=i[1],m=(0,h.UO)().movieId,f=(0,h.TH)(),x=(0,d.useRef)(null!==(e=null===(n=f.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/"),g=(0,d.useCallback)((0,r.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.request((0,o.nJ)(m));case 3:n=e.sent,t=n.data,j(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[m]);(0,d.useEffect)((function(){g()}),[g]);var b=v.poster_path,k=v.original_title,w=v.release_date,y=v.vote_average,I=v.overview,J=v.genres,G=new Date(w),N=null===G||void 0===G?void 0:G.getFullYear(),U=Math.round(10*y),Z=b?"https://image.tmdb.org/t/p/original/".concat(b):"https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700";return Object.keys(v).length?(0,l.jsxs)("div",{children:[(0,l.jsx)(p.rU,{to:x.current,children:"Go back"}),(0,l.jsxs)("div",{className:"container-details",children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{loading:"lazy",src:Z,width:350,alt:k})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{children:[k,(0,l.jsxs)("span",{children:["(",N,")"]})]}),(0,l.jsxs)("p",{children:["User score: ",U,"%"]}),(0,l.jsx)("h2",{children:"Overview"}),(0,l.jsx)("p",{children:I}),(0,l.jsx)(u,{genres:J})]})]}),(0,l.jsx)("h2",{children:"Additional information"}),(0,l.jsx)(p.rU,{to:"cast",children:"Cast"}),(0,l.jsx)(p.rU,{to:"reviews",children:"Reviews"}),(0,l.jsx)(d.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsx)(h.j3,{})})]}):(0,l.jsx)("div",{children:"Loading..."})}}}]);
//# sourceMappingURL=399.55db43a3.chunk.js.map